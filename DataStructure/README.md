# 数据结构课程设计：基于高级预言源程序格式处理工具

> 这是一个限定C语言子集的词法分析器与语法分析器的工具（mlpc），兼有源程序格式化排版的功能。
> mlpc_gui是基于qt5.14设计的图形化展示程序，将产生的分析文件格式化显示。

## 限定的C语言子集

1. `int`,`char`,`float`,`void`及相应的指针类型。
    1. 不支持初始化语法。
2. 枚举类型。
    1. 枚举类型可以被声明为匿名类型。
    2. 枚举常量默认从0开始赋予默认值。
    3. 枚举常量可以在声明时赋予指定值。
3. 全局变量声明。
4. 函数的声明、定义、调用。
    1. 不支持函数声明时隐去参数名称。
5. `if`,`while`,`for`,`return`,`continue`,`break`以及块语句、表达式语句和空语句。
    1. 不支持语句内部声明局部变量。
6. 单行注释，不支持多行注释，不支持预编译指令。
7. 整数常量（十进制、八进制、十六进制）、浮点数常量（普通小数点、科学计数法）、字符串常量。
8. 运算符：`=`、`～`、`！`、、`? :`、`||`、`&&`、`|`、`^`、`&`、`==`、`！=`、`<`、`>`、`<=`、`>=`、`<<`、`>>`、`+`、`-`、`*`、`/`、`%`、`++`、`--`、`[]`、`sizeof()`、`()`（其中`+`和`-`包括前缀符号运算符，`++`和`--`包括前缀和后缀运算符，`*`包含乘法运算符和指针取值运算符，`()`包括强制类型转换和普通括号）（不支持逗号运算符以及与赋值运算符组合的运算符）

## 格式化排版

1. 删除不必要的空格和空行。
2. 将函数和变量一同声明的语句拆开。
3. 每种语句基于一种特定的格式化方法。
4. 添加合适的空格。

## 使用方法

```shell
usage: mlpc <-operation> <filename>
    -l  lexical analysis
    -s  syntax analysis
    -r  rearrange source code
    -f  save all outputs in files

mlpc -l -s -r -f input.c
```
